# Makefile to generate LaTex files.
#
# usage: make        {to generate Latex files}
#        make clean  {to clean directory}
#

default : eps_images verde

eps_images:
	@ echo && echo "--Converting JPEG to EPS--"
	@ echo && cd images && ${MAKE}
	@ echo "--Image conversion complete--"

verde : verde.tex verde.bbl
	latex $@	# from: $@.tex,sty          makes: $@.aux,dvi,log
	bibtex $@	# from: $@.bib,aux          makes: $@.bbl,blg
	latex $@	# from: $@.tex,aux,bbl,blg  makes: $@.aux,dvi,log
	latex $@	# from: $@.tex,aux,bbl,blg  makes: $@.aux,dvi,log
	hyperlatex $@	# from: $@.tex,aux,bbl,blg  makes: $*.html
#	dvips $@ -o $@.ps # from: $@.dvi,           makes: $@.ps - PostScript
#	xdvi $@ &	# from: $@.dvi,             makes: x-window of document
# Note:
#   verde_toc.xml and verde.idx must be generated by HAND! See the README
#

verde.dvi: verde.tex verde.bbl
	hyperlatex  verde
#	hyperlatex  verde         #twice to get the references straight
#	hyperlatex verde     #Create the HTML
#	dvips verde          #Create a postscript file

verde.bbl : verde.bib
	latex  verde
	bibtex verde


clean:
	rm -f *.aux *.blg *.dvi *.log *.ps *.lof *.toc *.lot *.bbl *.html
	cd images; ${MAKE} clean

